<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-1.12.4.js" integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU=" crossorigin="anonymous"></script>

    <style>



    </style>
    <script>
        $().ready(() => {
            // 글자수 제한
            $('#msg').keyup(function() {
                let cnt = $(this).val().length
                let limit = 150
                // let remain = 150 - cnt
                // console.log(cnt, remain)
                if((limit - cnt) < 0) {
                    alert(`${limit}자까지만 작성할 수 있습니다.`)
                    let str = $(this).val().substr(0, limit) // 사용자가 작성한 ~150자
                    $(this).val(str) // 150자까지만 다시 input에 넣어줌
                    $('span').text(`${limit}`) // span에는 현재 글자수 150자라는 것을 보여줌
                    return false
                }
                $('span').text(cnt) // span 안에 현재 글자수
            })


            // 체크박스 전체 동의
            $('#allCheck').change(function() { //.change 사용
                if(this.checked) {
                    $('#checkItem').children().prop('checked', true) // children:자식 선택
                } else {
                    $('#checkItem').children().prop('checked', false)
                }
            })

        })
    </script>
</head>
<body>

    <!-- 체크박스 전체 동의 -->
    <input type="checkbox" id="allCheck">
    <label for="allCheck">전체 동의</label>

    <div id="checkItem">
        <input type="checkbox"> 사이트 이용 동의 <br>
        <input type="checkbox"> 개인정보 이용 동의 <br>
        <input type="checkbox"> 마케팅 이용 동의 <br>
    </div>

    <hr>

    <!-- 글자수 제한 -->
    <textarea id="msg" cols="50" rows="10"></textarea>
    <span>0</span> / 150
    
</body>
</html>